{"version":3,"sources":["Components/PeopleTable.js","App.js","reportWebVitals.js","index.js"],"names":["url","window","location","href","CreatePersonForm","state","person","FirstName","LastName","CityId","PhoneNr","SocialSecurityNr","LanguageIds","countries","cities","axios","get","then","r","setState","data","flatMap","c","id","catch","e","console","log","onSubmit","ev","preventDefault","props","handleSubmit","value","this","onChange","event","target","type","required","name","defaultValue","parseInt","map","React","Component","PersonDetails","deletePersonFunction","city","onClick","Person","showDetails","setShowDetails","val","firstName","lastName","Table","people","p","People","showCreateForm","addNewPerson","json","JSON","stringify","post","headers","oldState","removePerson","delete","status","filter","sortPeopleByName","sort","p1","p2","App","className","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c37f711d.chunk.js","sourcesContent":["import axios from 'axios';\r\nimport React from 'react';\r\n\r\nconst url =  window.location.href;\r\n\r\nclass CreatePersonForm extends React.Component {\r\n    state = {\r\n        person: {\r\n            FirstName: '',\r\n            LastName: '',\r\n            CityId: 0,\r\n            PhoneNr: '',\r\n            SocialSecurityNr: '',\r\n            LanguageIds: [1]\r\n        },\r\n        countries: [],\r\n        cities: []\r\n    }\r\n    \r\n    componentDidMount(){\r\n        axios.get(`${url}/countries`)\r\n        .then(r => {\r\n            this.setState({ countries: r.data.countries });\r\n            this.setState({ cities: r.data.countries.flatMap(c => c.cities)})\r\n            this.setState(({person: {...this.state.person, CityId: r.data.countries[0].cities[0].id}}))\r\n        })\r\n        .catch(e => {\r\n            console.log(e)\r\n        });\r\n    }\r\n    render() {\r\n        return (<form onSubmit={ev => \r\n        { ev.preventDefault(); this.props.handleSubmit(this.state.person) }}> \r\n                <input value={this.state.person.FirstName} \r\n                onChange={event => {\r\n                    this.setState({person: {...this.state.person, FirstName: event.target.value }})}}\r\n                type=\"text\" required/>\r\n                <input value={this.state.person.LastName} onChange={event => {\r\n                    this.setState({ person: {...this.state.person, LastName: event.target.value}})}}\r\n                type=\"text\"/>\r\n                <input value={this.state.person.PhoneNr} onChange={event => {\r\n                    this.setState({ person: {...this.state.person, PhoneNr: event.target.value}})}}\r\n                type=\"text\"/>\r\n                <input value={this.state.person.SocialSecurityNr} onChange={event => {\r\n                    this.setState({ person: {...this.state.person, SocialSecurityNr: event.target.value}})}}\r\n                type=\"text\"/>\r\n                <select id=\"cities\" name=\"cities\" type=\"text\"\r\n                defaultValue={0} onChange={event => { \r\n                    this.setState({person: {...this.state.person, CityId: parseInt(event.target.value)}})}} \r\n                >\r\n                    {\r\n                    this.state.cities.map(c => <option value={c.id} key={c.name}>{c.name}</option>  ) \r\n                    }\r\n                </select>\r\n              \r\n                <button>Create person</button>\r\n        </form>)\r\n    }\r\n}\r\n\r\nconst PersonDetails = ({person, deletePersonFunction}) => {\r\n return (\r\n     <div>\r\n        {person.city.name}\r\n    \r\n         <button onClick={() => deletePersonFunction(person)}>DELETE</button>\r\n     \r\n     </div>\r\n )\r\n}\r\n\r\nclass Person extends React.Component {\r\n    state = {\r\n        showDetails: false\r\n    };\r\n    person = this.props.person;\r\n    setShowDetails = (val) => {\r\n        this.setState({showDetails: val})\r\n    }\r\n    render() { return (\r\n        <tr>\r\n            <td>{this.person.firstName}</td>\r\n            <td>{this.person.lastName}</td>\r\n           \r\n            <td>\r\n                <button onClick={() => this.setShowDetails(!this.state.showDetails)}>Show details</button>\r\n            </td>\r\n            \r\n                { this.state.showDetails ?\r\n                    <td>\r\n                        <PersonDetails person={this.person} deletePersonFunction={this.props.deletePersonFunction}/>\r\n                    </td>\r\n                : null\r\n                }\r\n           \r\n        </tr>\r\n    )\r\n}\r\n}\r\n\r\nconst Table = ({people, deletePersonFunction}) => {\r\n    return (\r\n        <table>\r\n            <thead>\r\n            <tr>\r\n                <th>Name</th>\r\n                <th>Lastname</th>\r\n                <th>City</th>\r\n            </tr>\r\n            </thead>\r\n            <tbody>\r\n            {people.map(p => <Person deletePersonFunction={deletePersonFunction} key={p.id} person={p}/>)}   \r\n            </tbody>\r\n        </table>\r\n    );\r\n}\r\nexport default class People extends React.Component {\r\n    state = {\r\n        showCreateForm: false,\r\n        people: [\r\n            \r\n        ],\r\n    };\r\n    componentDidMount(){\r\n        axios.get(`${url}/people`)\r\n        .then(r => {\r\n            this.setState({ people: r.data.people });\r\n        })\r\n        .catch(e => {\r\n            console.log(e)\r\n        });\r\n    }\r\n    addNewPerson = (person) => {\r\n\r\n        let json = JSON.stringify(person)\r\n        axios.post(`${url}/people`, json,\r\n        { headers: {\r\n            'Content-Type': 'application/json'\r\n            } \r\n        }\r\n        )\r\n        .then(r => {\r\n            this.setState(oldState => ({ people: [...oldState.people, r.data]}))\r\n        })\r\n        .catch(e => {\r\n            console.log(e)\r\n        });\r\n      \r\n    }\r\n    removePerson = (person) => {\r\n        axios.delete(`${url}/people/${person.id}`)\r\n        .then(r => {\r\n            if(r.status === 200){\r\n                this.setState(oldState => ({ people: oldState.people.filter(p => p.id !== person.id)}))\r\n            }\r\n        })\r\n        .catch(e => {\r\n            console.log(e)\r\n        });\r\n    }\r\n    sortPeopleByName = () => { \r\n        this.setState(oldState => ({people: oldState.people.sort((p1, p2) => \r\n            { \r\n                if(p1.firstName < p2.firstName) return -1; \r\n                else if(p2.firstName < p1.firstName) return 1; \r\n                return 0; })\r\n            }))\r\n    }\r\n    render(){\r\n       return( \r\n       <div>\r\n          \r\n           <button onClick={this.sortPeopleByName}>SORT BY NAME</button>\r\n           <Table deletePersonFunction={this.removePerson} people={this.state.people}/>\r\n       <button onClick={() => this.setState(oldState => ({showCreateForm: !oldState.showCreateForm}))}>Create person</button>\r\n       {\r\n           this.state.showCreateForm ?\r\n                    <CreatePersonForm handleSubmit={this.addNewPerson}/>\r\n                    : null\r\n       }\r\n       </div>)\r\n    }\r\n}","import './App.css';\nimport PeopleTable from './Components/PeopleTable';\n\nfunction App() {\n\n  return (\n    <div className=\"App\">\n      <PeopleTable/>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App/>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}